# 47: div.topic-info のカテゴリー名 国際化対応 設計ドキュメント

## 概要
- 対象: テーマ内の `div.topic-info` に表示される「カテゴリー名」の表示が多言語処理されていない不具合。
- 目的: `nodebb-plugin-auto-translate` などで行っている多言語化データを用いて、カテゴリ名を選択言語に沿って適切に翻訳表示する

## 背景と制約（必読）
- 多言語データをデータベースから取得する
- クエリーストリング、NodeBBの設定、ブラウザの設定に基づいて表示言語を決定する（デフォルトはen）
- フォールバック禁止: 取得できない場合は明確なエラーにする。隠れフォールバック（`|| 'default'`）は設計上も不可。

## 対象箇所の想定
- テーマテンプレート（例: `topic.tpl` 付近）にある `div.topic-info` のカテゴリ名表示領域。
- クライアントJSでラベルやテキストを後処理している箇所があれば、そこも対象（テンプレートとJSのいずれか、または両方）。

## 調査タスク（実装前提の把握のみ）

- a.badge.px-1.text-truncate.text-decoration-none.border で表示されているラベル部分が対象

## 影響範囲と検証観点
- 影響: パンくず部分はうまくいっているので、それを真似る
- 検証:
  - 言語切替時にラベル/カテゴリ名が即時反映されること。

## 想定するエラー方針
- フォールバック禁止により、問題の早期発見を優先。
