# タスク 05c: API接続テスト機能の実装

## 概要
管理画面の「接続テスト」ボタンを押すことで、入力されたAPIキーを使ってOpenAI APIへの接続をテストできる機能を実装する。

## 要件

### 接続テスト機能
- 管理画面の「接続テスト」ボタンで実行
- 現在入力されているAPIキーを使ってテスト実行
- 保存されていないAPIキーでもテスト可能
- テスト実行中はボタンを無効化し「テスト中...」と表示

### テスト内容
- OpenAI APIへの最小限のリクエストを送信
- Content Moderation API（`/v1/moderations`）またはChat Completions API（`/v1/chat/completions`）を使用
- 簡単なテストコンテンツで動作確認

### エラーハンドリング
- APIキー未入力時: 「APIキーを入力してください」
- 無効なAPIキー: 「APIキーが無効です」  
- ネットワークエラー: 「接続に失敗しました」
- その他のエラー: 具体的なエラーメッセージを表示

### セキュリティ考慮
- テスト時のAPIキーはサーバー側でのみ使用し、ログに記録しない
- テスト結果にAPIキーや機密情報を含めない

## 技術実装

### バックエンド実装
- WebSocketエンドポイント: `plugins.ai-moderation.testConnection`
- OpenAI APIクライアントライブラリを使用
- テスト用の軽量リクエストを実装

### フロントエンド実装  
- 既存の`admin.js`の`testConnection`関数を活用
- 適切なエラーメッセージとUIフィードバックの実装

### 使用するAPI
- OpenAI Moderation API: `/v1/moderations`
  - テストデータ: "Hello world"
  - レスポンス形式で接続成功を判定

## 完了条件
- [ ] APIキーを入力して接続テストが実行できる
- [ ] 正常なAPIキーで「接続成功」メッセージが表示される
- [ ] 無効なAPIキーで適切なエラーメッセージが表示される
- [ ] テスト実行中のUI状態が適切に管理される